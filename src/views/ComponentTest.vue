<template>
  <div class="min-h-dvh bg-[#E4E4E4] p-8">
    <h1>Ïª¥Ìè¨ÎÑåÌä∏</h1><br>

    <div class="flex gap-8 flex-wrap">
      <!-- ÏôºÏ™Ω Ïó¥ -->
      <div class="flex flex-col gap-6" style="width: 393px;">

        <!-- CTA -->
        <FigmaSection title="CTA">
          <CtaButton>Í≥µÎ∂Ä Ïù∏Ï¶ùÌïòÍ∏∞</CtaButton>
        </FigmaSection>

        <!-- ÌååÏùº -->
        <FigmaSection title="ÌååÏùº">
          <FileChip fileName="ÎπÑÎ¨∏Ìïô Íµ¨Ï°∞Ìôî ÌõàÎ†®.pdf" />
        </FigmaSection>

        <!-- ÏûêÎ£å -->
        <FigmaSection title="ÏûêÎ£å">
          <FileCard fileName="ÎπÑÎ¨∏Ìïô Íµ¨Ï°∞Ìôî ÌõàÎ†®.pdf" date="2025.01.29" fileSize="24.MB" />
        </FigmaSection>

      </div>

      <!-- Ï§ëÍ∞Ñ Ïó¥ - ÌÉúÍ∑∏Îì§ -->
      <div class="flex gap-6">
        <!-- Í≥ºÎ™© ÌÉúÍ∑∏ small -->
        <FigmaSection title="Í≥ºÎ™© ÌÉúÍ∑∏" dashed>
          <div class="flex flex-col gap-8">
            <SubjectTag subject="english" size="sm" />
            <SubjectTag subject="math" size="sm" />
            <SubjectTag subject="science" size="sm" />
          </div>
        </FigmaSection>

        <!-- Í≥ºÎ™© ÌÉúÍ∑∏ big -->
        <FigmaSection title="Í≥ºÎ™© ÌÉúÍ∑∏ big" dashed>
          <div class="flex flex-col gap-8">
            <SubjectTag subject="english" size="md" />
            <SubjectTag subject="math" size="md" />
            <SubjectTag subject="science" size="md" />
          </div>
        </FigmaSection>

        <!-- ÏôÑÎ£å/ÎØ∏ÏôÑÎ£å -->
        <FigmaSection title="Frame 114" dashed>
          <div class="flex flex-col gap-8">
            <StatusBadge type="complete" size="md" />
            <StatusBadge type="incomplete" size="md" />
          </div>
        </FigmaSection>
      </div>

      <!-- Ïò§Î•∏Ï™Ω Ïó¥ -->
      <div class="flex flex-col gap-6" style="width: 393px;">
        <!-- ÌîåÎ†àÏù¥Ïä§ ÌôÄÎçî -->
        <FigmaSection title="ÌîåÎ†àÏù¥Ïä§ ÌôÄÎçî" dashed>
          <div class="flex flex-col gap-4">
            <MessageInput v-model="emptyMsg" />
            <MessageInput v-model="filledMsg" />
          </div>
        </FigmaSection>

        <!-- ÏΩîÎ©òÌä∏ ÎÇ®Í∏∞Í∏∞ -->
        <FigmaSection title="ÏΩîÎ©òÌä∏ ÎÇ®Í∏∞Í∏∞" dashed>
          <div class="flex flex-col gap-4 items-start">
            <CommentButton disabled />
            <CommentButton />
          </div>
        </FigmaSection>

        <!-- ÌïòÎã® NAV -->
        <FigmaSection title="ÌïòÎã® NAV">
          <div class="bg-white rounded-xl overflow-hidden" style="padding: 20px 24px;">
            <div class="flex items-center justify-between" style="gap: 37px;">
              <div v-for="tab in navTabs" :key="tab.name" class="flex flex-col items-center gap-[2px]">
                <div class="flex items-center justify-center w-[38px] h-[40px]">
                  <component :is="tab.icon" :size="20" :color="tab.active ? '#0CA5FE' : '#A6A6A6'"
                    :stroke-width="1.8" />
                </div>
                <span class="text-[10px] leading-[12px] text-center"
                  :class="tab.name === 'mypage' ? 'w-[44px]' : 'w-[38px]'"
                  :style="{ color: tab.active ? '#0CA5FE' : '#A6A6A6' }">
                  {{ tab.label }}
                </span>
              </div>
            </div>
          </div>
        </FigmaSection>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, defineComponent, h } from 'vue'
import { Home, Calendar, MessageSquareText, MessagesSquare, User } from 'lucide-vue-next'
import StatusBadge from '@/components/common/StatusBadge.vue'
import SubjectTag from '@/components/common/SubjectTag.vue'
import CtaButton from '@/components/common/CtaButton.vue'
import CommentButton from '@/components/common/CommentButton.vue'
import FileChip from '@/components/common/FileChip.vue'
import FileCard from '@/components/common/FileCard.vue'
import MessageInput from '@/components/common/MessageInput.vue'

const emptyMsg = ref('')
const filledMsg = ref('Í≥µÏãùÏùÄ Ïô∏Ïõ†ÎäîÎç∞ Î¨∏Ï†úÏóê Ï†ÅÏö©ÌïòÎäî Í≤å Ï†úÏùº Ïñ¥Î†§Ïö¥ Í≤É Í∞ôÏïÑÏöî. üòÇ')

const navTabs = [
  { name: 'calendar', label: 'Ï∫òÎ¶∞Îçî', icon: Calendar, active: true },
  { name: 'feedback', label: 'ÌîºÎìúÎ∞±', icon: MessageSquareText, active: false },
  { name: 'home', label: 'Ìôà', icon: Home, active: false },
  { name: 'chat', label: 'Ï±ÑÌåÖ', icon: MessagesSquare, active: false },
  { name: 'mypage', label: 'ÎßàÏù¥ÌéòÏù¥ÏßÄ', icon: User, active: false },
]

const FigmaSection = defineComponent({
  props: {
    title: String,
    dashed: Boolean,
  },
  setup(props, { slots }) {
    return () => h('div', {
      class: props.dashed
        ? 'border border-dashed border-[#8A38F5] rounded-[5px] px-8 py-6'
        : '',
    }, [
      h('p', { class: 'text-[#8A38F5] text-xs font-semibold mb-3' }, `‚ùñ ${props.title}`),
      slots.default?.(),
    ])
  },
})
</script>
